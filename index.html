#include <iostream>
#include <string>
#include <vector>
#include <cctype>
#include <algorithm>

using namespace std;

// Diccionario de palabras no permitidas
const vector<string> palabrasProhibidas = {
    "PENE", "POPO", "CULO", "PUTO", "CHOTO", "CHOTA"
};

// Verificar si las primeras 4 letras del RFC forman una palabra prohibida
string corregirRFC(const string& rfc) {
    string inicio = rfc.substr(0, 4);
    for (const string& palabra : palabrasProhibidas) {
        if (inicio == palabra) {
            // Reemplaza la cuarta letra con 'X'
            string corregido = inicio.substr(0, 3) + 'X' + rfc.substr(4);
            return corregido;
        }
    }
    return rfc;
}

class Empleado {
private:
    string nombre;
    string apellidoPaterno;
    string apellidoMaterno;
    int dia, mes, anio;

    // Función para obtener primera vocal interna del apellido paterno
    char obtenerVocalInterna(const string& apellido) {
        for (size_t i = 1; i < apellido.length(); ++i) {
            char c = toupper(apellido[i]);
            if (c == 'A' || c == 'E' || c == 'I' || c == 'O' || c == 'U') {
                return c;
            }
        }
        return 'X';
    }

public:
    Empleado(string nom, string apPat, string apMat, int d, int m, int a) {
        nombre = nom;
        apellidoPaterno = apPat;
        apellidoMaterno = apMat;
        dia = d;
        mes = m;
        anio = a;
    }

    string calcularRFC() {
        string rfc = "";

        rfc += toupper(apellidoPaterno[0]);
        rfc += obtenerVocalInterna(apellidoPaterno);

        if (!apellidoMaterno.empty())
            rfc += toupper(apellidoMaterno[0]);
        else
            rfc += 'X';

        rfc += toupper(nombre[0]);

        // Fecha de nacimiento
        rfc += to_string(anio).substr(2, 2);

        if (mes < 10) rfc += '0';
        rfc += to_string(mes);

        if (dia < 10) rfc += '0';
        rfc += to_string(dia);

        return corregirRFC(rfc);
    }

    void mostrarDatos() {
        cout << "Nombre: " << nombre << " " << apellidoPaterno << " " << apellidoMaterno << endl;
        cout << "Fecha de nacimiento: " << dia << "/" << mes << "/" << anio << endl;
        cout << "RFC generado: " << calcularRFC() << endl;
    }
};

int main() {
    string nombre, apellidoP, apellidoM;
    int dia, mes, anio;

    cout << "Ingrese nombre: ";
    getline(cin, nombre);
    cout << "Ingrese apellido paterno: ";
    getline(cin, apellidoP);
    cout << "Ingrese apellido materno (dejar vacío si no tiene): ";
    getline(cin, apellidoM);
    cout << "Ingrese fecha de nacimiento (DD MM AAAA): ";
    cin >> dia >> mes >> anio;

    Empleado empleado(nombre, apellidoP, apellidoM, dia, mes, anio);
    cout << endl << "--- Resultado ---" << endl;
    empleado.mostrarDatos();

    return 0;
}
